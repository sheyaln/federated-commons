# n8n Environment Configuration

# Database connection (managed PostgreSQL)
DB_HOST={{ n8n_db_creds.host }}
DB_PORT={{ n8n_db_creds.port }}
DB_NAME={{ n8n_db_creds.dbname }}
DB_USER={{ n8n_db_creds.username }}
DB_PASSWORD={{ n8n_db_creds.password }}

# Encryption key for credentials
N8N_ENCRYPTION_KEY={{ n8n_encryption_key }}

# Application URLs
WEBHOOK_URL={{ n8n_base_url }}
N8N_HOST=n8n.{{ management_domain }}

# Proxy configuration (behind Traefik)
N8N_METRICS=false
N8N_DIAGNOSTICS_ENABLED=false

# OIDC Configuration (Authentik)
OIDC_ISSUER_URL={{ n8n_oidc_creds.issuer_url }}
OIDC_CLIENT_ID={{ n8n_oidc_creds.client_id }}
OIDC_CLIENT_SECRET={{ n8n_oidc_creds.client_secret }}
OIDC_REDIRECT_URI={{ n8n_base_url }}/auth/oidc/callback


